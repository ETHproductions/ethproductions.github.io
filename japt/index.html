<!DOCTYPE html>
<html>
<head>
<title>ETHproductions</title>
<link rel="stylesheet" type="text/css" href="../style/style.css">
<script src="https://rawgit.com/ETHproductions/Japt/master/dependencies/shoco.js"></script>
<script>
  function splitAddress() {
    var args=location.search.match(/[&?](code|input|v)=([^&]|&(?!(code|input|v)=))*/g);
    var v="master";
    var code="[U,V*Wg0 ,Wg1]qS";
    for(var i of args){
      var tmp=i.slice(i.indexOf('=')+1).replace(/%[0-9A-F]{2}/g,function(x){return String.fromCharCode(parseInt(x.slice(1),16))});
      if(i.slice(1,i.indexOf('='))==="code")
        code=tmp;
      else if(i.slice(1,i.indexOf('='))==="input")
        document.getElementById("input").value=tmp;
      else
        v=tmp;
    }
    var script = document.createElement('script');
    script.setAttribute("src","https://rawgit.com/ETHproductions/Japt/"+v+"/src/japt-interpreter.js");
    document.getElementsByTabName('head')[0].appendChild(script);

    document.getElementById("code").value=code,
    document.getElementById("js-code").value=transpile(code);
  }
</script>
</head>
<body onload="splitAddress()">
<p>Â </p>
<h1>Japt</h1>
<p>Here lies some meaningless text.</p>
Code:
<br>
<textarea id="code" rows="8" onkeypress="setTimeout(function(){document.getElementById('js-code').value=transpile(document.getElementById('code').value)},10)">[U,V*Wg0 ,Wg1]qS</textarea><textarea id="js-code" rows="8" readonly>[U,V*W.g(0),W.g(1)].q(S)</textarea>
<br>Input:
<br>
<textarea id="input" rows="6">"abc" 13 [9 "zyx"]</textarea><textarea id="output" rows="6"></textarea>
<p>Timeout: (doesn't work)
  <input id="timeout" type="checkbox" checked="checked">&nbsp;
  <br>
  <br>
  <input id="run" type="button" value="Run" onclick="run()">
  <input id="stop" type="button" value="Stop" onclick="interrupt()" disabled="disabled">
  <input id="clear" type="button" value="Clear" onclick="clear_output()">
  <br>
  <span id="stderr" style="color:red"></span>
</p>
</body>
</html>
